# Инструкция по настройке регистрации пользователей

## Настройка Google Apps Script для записи данных в Google Sheets

### Шаг 1: Откройте Google Sheets
Перейдите по ссылке: https://docs.google.com/spreadsheets/d/1n7E3sph8x_FanomlEuEeG5a0OMWSz9UXNlIjXAr19MU

### Шаг 2: Откройте Apps Script
1. В меню выберите **Расширения** → **Apps Script**
2. Откроется редактор скриптов

### Шаг 3: Вставьте код
1. Удалите весь код по умолчанию
2. Скопируйте код из файла `google_apps_script.js` в этот проект
3. Сохраните проект (Ctrl+S или Cmd+S)

### Шаг 4: Опубликуйте как веб-приложение
1. Нажмите кнопку **Развернуть** → **Новое развертывание**
2. Выберите тип: **Веб-приложение**
3. Настройте параметры:
   - **Описание**: "Registration API"
   - **Выполнять от имени**: "Меня"
   - **У кого есть доступ**: "Все"
4. Нажмите **Развернуть**
5. При первом развертывании нужно авторизовать доступ:
   - Нажмите **Разрешить доступ**
   - Выберите свой аккаунт Google
   - Нажмите **Дополнительно** → **Перейти к [название проекта] (небезопасно)**
   - Нажмите **Разрешить**

### Шаг 5: Скопируйте URL
1. После развертывания скопируйте **URL веб-приложения**
2. Он будет выглядеть примерно так:
   ```
   https://script.google.com/macros/s/AKfycby.../exec
   ```

### Шаг 6: Вставьте URL в код
1. Откройте файл `lib/registration_service.dart`
2. Найдите строку:
   ```dart
   static const String _scriptUrl =
       'https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec';
   ```
3. Замените `YOUR_SCRIPT_ID` на ваш реальный URL (или вставьте весь URL)
4. Сохраните файл

### Шаг 7: Проверка
1. Запустите приложение
2. При первом запуске откроется экран регистрации
3. Введите имя и номер телефона
4. Проверьте в Google Sheets (лист 11), что данные добавились

## Структура данных в Google Sheets

Данные сохраняются в **лист 11** со следующей структурой:

| Столбец A | Столбец B |
|-----------|-----------|
| Имя       | Номер телефона |
| Иван      | +79001234567 |
| Мария     | +79007654321 |

## Примечания

- Если лист 11 не существует, он будет создан автоматически
- Заголовки добавляются автоматически при первой записи
- Каждая регистрация добавляется в новую строку

