# üìä –ê–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-12-29
**–§–∞–π–ª:** `lib/features/work_schedule/services/auto_fill_schedule_service.dart`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## üîÑ –¢–µ–∫—É—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º (–°–ï–ô–ß–ê–°)

### –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
–î–õ–Ø –ö–ê–ñ–î–û–ì–û –¥–Ω—è –≤ –ø–µ—Ä–∏–æ–¥–µ:
  –î–õ–Ø –ö–ê–ñ–î–û–ì–û –º–∞–≥–∞–∑–∏–Ω–∞:
    –î–õ–Ø –ö–ê–ñ–î–û–ô —Å–º–µ–Ω—ã (—É—Ç—Ä–æ, –≤–µ—á–µ—Ä):
      1. –í—ã–±—Ä–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏
      2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –≤—ã–±—Ä–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –±–µ–∑ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
      3. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ
      4. –ù–∞–∑–Ω–∞—á–∏—Ç—å —Å–º–µ–Ω—É
```

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏ 28-54)

```dart
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–Ω–∏ –ø–µ—Ä–∏–æ–¥–∞
final days = _getDaysInPeriod(startDate, endDate);

// –†–∞–∑–¥–µ–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–∞ 2 –≥—Ä—É–ø–ø—ã:
1. –° –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏ (preferredWorkDays, preferredShops, shiftPreferences)
2. –ë–µ–∑ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π (–ø—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏)

// –°–æ–∑–¥–∞—Ç—å —Ä–∞–±–æ—á—É—é –∫–æ–ø–∏—é –≥—Ä–∞—Ñ–∏–∫–∞
if (replaceExisting) {
  // –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–º–µ–Ω—ã –≤ –ø–µ—Ä–∏–æ–¥–µ
} else {
  // –û—Å—Ç–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–º–µ–Ω—ã
}
```

### –≠—Ç–∞–ø 2: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–º–µ–Ω (—Å—Ç—Ä–æ–∫–∏ 56-142)

**–¶–∏–∫–ª:** –î–µ–Ω—å ‚Üí –ú–∞–≥–∞–∑–∏–Ω ‚Üí –°–º–µ–Ω–∞

```dart
for (–¥–µ–Ω—å in –¥–Ω–∏) {                    // 15 –¥–Ω–µ–π (1-15 –¥–µ–∫–∞–±—Ä—è)
  for (–º–∞–≥–∞–∑–∏–Ω in –º–∞–≥–∞–∑–∏–Ω—ã) {          // 8 –º–∞–≥–∞–∑–∏–Ω–æ–≤
    for (—Å–º–µ–Ω–∞ in [—É—Ç—Ä–æ, –≤–µ—á–µ—Ä]) {    // 2 —Å–º–µ–Ω—ã

      // –®–∞–≥ 1: –ü–æ–ø—ã—Ç–∫–∞ –Ω–∞–π—Ç–∏ —Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏
      —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ = _selectBestEmployee(
        employees: employeesWithPreferences,
        ...
      )

      // –®–∞–≥ 2: –ü–æ–ø—ã—Ç–∫–∞ –Ω–∞–π—Ç–∏ –±–µ–∑ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
      if (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ == null) {
        —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ = _selectBestEmployee(
          employees: employeesWithoutPreferences,
          ...
        )
      }

      // –®–∞–≥ 3: –õ—é–±–æ–π –¥–æ—Å—Ç—É–ø–Ω—ã–π
      if (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ == null) {
        —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ = _selectAnyAvailableEmployee(...)
      }

      // –®–∞–≥ 4: –ù–∞–∑–Ω–∞—á–∏—Ç—å
      if (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ != null) {
        —Å–æ–∑–¥–∞—Ç—å_–∑–∞–ø–∏—Å—å_–≤_–≥—Ä–∞—Ñ–∏–∫–µ()
      } else {
        –¥–æ–±–∞–≤–∏—Ç—å_–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ()
      }
    }
  }
}
```

**–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:**
- 15 –¥–Ω–µ–π √ó 8 –º–∞–≥–∞–∑–∏–Ω–æ–≤ √ó 2 —Å–º–µ–Ω—ã = **240 –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π –º–∞–∫—Å–∏–º—É–º**
- 25 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–∏–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å 240 / 25 = ~9.6 —Å–º–µ–Ω (–≤ —Å—Ä–µ–¥–Ω–µ–º)

---

## üéØ –ú–µ—Ç–æ–¥ –≤—ã–±–æ—Ä–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞: `_selectBestEmployee()`

### –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ (scoring)

```dart
int score = 0;

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π –º–∞–≥–∞–∑–∏–Ω (+10 –±–∞–ª–ª–æ–≤)
if (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫.preferredShops.contains(–º–∞–≥–∞–∑–∏–Ω.id)) {
  score += 10;
}

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ñ–µ–ª–∞–µ–º—ã–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (+5 –±–∞–ª–ª–æ–≤)
if (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫.preferredWorkDays.contains("monday")) {
  score += 5;
}

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ —Å–º–µ–Ω—ã
if (grade == 1) {  // –í—Å–µ–≥–¥–∞ —Ö–æ—á–µ—Ç
  score += 3;
} else if (grade == 2) {  // –ú–æ–∂–µ—Ç, –Ω–æ –Ω–µ —Ö–æ—á–µ—Ç
  score += 1;
} else if (grade == 3) {  // –ù–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
  score -= 10;
}

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ "—É—Ç—Ä–æ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞" (+2 –±–∞–ª–ª–∞)
if (!_hasConflict(...)) {
  score += 2;
}
```

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª

- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π –º–∞–≥–∞–∑–∏–Ω: **+10**
- –ñ–µ–ª–∞–µ–º—ã–π –¥–µ–Ω—å: **+5**
- –í—Å–µ–≥–¥–∞ —Ö–æ—á–µ—Ç —ç—Ç—É —Å–º–µ–Ω—É: **+3**
- –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞: **+2**
- **–ò–¢–û–ì–û –º–∞–∫—Å–∏–º—É–º:** 20 –±–∞–ª–ª–æ–≤

### –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞

1. **–ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –±–∞–ª–ª—ã** –¥–ª—è –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
2. **–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å** —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º —Å—á–µ—Ç–æ–º (score < 0)
3. **–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å** –ø–æ —É–±—ã–≤–∞–Ω–∏—é –±–∞–ª–ª–æ–≤
4. **–í—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ**, –∫—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É `_canWorkShift()`

---

## üö´ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: `_canWorkShift()` (—Å—Ç—Ä–æ–∫–∏ 243-263)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ö–æ–Ω—Ñ–ª–∏–∫—Ç "—É—Ç—Ä–æ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞"

```dart
if (shiftType == ShiftType.morning) {
  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–ª –ª–∏ –≤–µ—á–µ—Ä–æ–º –≤—á–µ—Ä–∞
  if (—Ä–∞–±–æ—Ç–∞–ª_–≤–µ—á–µ—Ä–æ–º_–≤—á–µ—Ä–∞) {
    return false;  // –ù–ï –ú–û–ñ–ï–¢ —Ä–∞–±–æ—Ç–∞—Ç—å —É—Ç—Ä–æ–º —Å–µ–≥–æ–¥–Ω—è
  }
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –û–¥–∏–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ = –æ–¥–Ω–∞ —Å–º–µ–Ω–∞ –≤ –¥–µ–Ω—å

```dart
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å
final hasShift = schedule.entries.any((e) =>
  e.employeeId == employee.id &&
  e.date == –¥–µ–Ω—å
);

// –ù–ï —Ä–∞–∑—Ä–µ—à–∞–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–º–µ–Ω –≤ –æ–¥–∏–Ω –¥–µ–Ω—å
if (hasShift) {
  return false;
}
```

**–≠—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç 29.12.2025** - –î–û —ç—Ç–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –º–æ–≥–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —É—Ç—Ä–æ –∏ –≤–µ—á–µ—Ä –≤ –æ–¥–∏–Ω –¥–µ–Ω—å.

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´ —Ç–µ–∫—É—â–µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### –ü—Ä–æ–±–ª–µ–º–∞ #1: –ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
- –î–µ–Ω—å 1, –ú–∞–≥–∞–∑–∏–Ω 1, –£—Ç—Ä–æ ‚Üí –ù–∞–π–¥–µ–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ê (–∏–º–µ–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è)
- –î–µ–Ω—å 2, –ú–∞–≥–∞–∑–∏–Ω 1, –£—Ç—Ä–æ ‚Üí –°–Ω–æ–≤–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ê (–µ—Å–ª–∏ –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞)
- –î–µ–Ω—å 3, –ú–∞–≥–∞–∑–∏–Ω 1, –£—Ç—Ä–æ ‚Üí –°–Ω–æ–≤–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ê
- ...

**–ü—Ä–∏—á–∏–Ω–∞:** –ê–ª–≥–æ—Ä–∏—Ç–º **–ù–ï —É—á–∏—Ç—ã–≤–∞–µ—Ç** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∂–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Å–º–µ–Ω.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –≤—ã—Å–æ–∫–∏–º–∏ –±–∞–ª–ª–∞–º–∏ –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–µ —Å–º–µ–Ω.

### –ü—Ä–æ–±–ª–µ–º–∞ #2: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏

–°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ **–ù–ï —É—á–∏—Ç—ã–≤–∞–µ—Ç:**
- –°–∫–æ–ª—å–∫–æ —Å–º–µ–Ω —É–∂–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É
- –°–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ï—Å—Ç—å –ª–∏ —É –Ω–µ–≥–æ –≤—ã—Ö–æ–¥–Ω—ã–µ

### –ü—Ä–æ–±–ª–µ–º–∞ #3: –ü–æ—Ä—è–¥–æ–∫ –≤–∞–∂–µ–Ω

```
–î–µ–Ω—å 1: –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏ –ø–æ–ª—É—á–∞—é—Ç —Å–º–µ–Ω—ã
–î–µ–Ω—å 2: –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏ –ø–æ–ª—É—á–∞—é—Ç —Å–º–µ–Ω—ã
...
–î–µ–Ω—å 15: –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ë–ï–ó –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –º–æ–≥—É—Ç –Ω–µ –ø–æ–ª—É—á–∏—Ç—å –ù–ò–ß–ï–ì–û
```

### –ü—Ä–æ–±–ª–µ–º–∞ #4: –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è **–∂–∞–¥–Ω–æ** (greedy):
- –í—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–µ–≥–æ –¥–ª—è –≠–¢–û–ô —Å–º–µ–Ω—ã
- –ù–µ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –æ–±—â—É—é –∫–∞—Ä—Ç–∏–Ω—É
- –ù–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –Ω–∞–ø–µ—Ä–µ–¥

---

## üìà –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã (1 –¥–µ–∫–∞–±—Ä—è 2025)

### –ú–∞–≥–∞–∑–∏–Ω: –ê—Ä–∞–±–∏–∫–∞ –ï—Å—Å–µ–Ω—Ç—É–∫–∏

**–£—Ç—Ä–æ:**
```
–ö–∞–Ω–¥–∏–¥–∞—Ç—ã:
1. –ë–æ—Ä–æ–¥–∏–Ω–∞ (+15 –±–∞–ª–ª–æ–≤) - –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç —ç—Ç–æ—Ç –º–∞–≥–∞–∑–∏–Ω, –ª—é–±–∏—Ç —É—Ç—Ä–æ
2. –í–∞—Å—é—Ç–∏–Ω–∞ (+8 –±–∞–ª–ª–æ–≤) - –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —É—Ç—Ä–æ–º
3. –í–µ—Ä–µ—Ç–µ–Ω–Ω–∏–∫–æ–≤ (+5 –±–∞–ª–ª–æ–≤) - –±–µ–∑ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π

–ü—Ä–æ–≤–µ—Ä–∫–∞ _canWorkShift():
- –ë–æ—Ä–æ–¥–∏–Ω–∞: ‚úÖ –º–æ–∂–µ—Ç (–Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤, –Ω–µ—Ç —Å–º–µ–Ω —Å–µ–≥–æ–¥–Ω—è)
- –í—ã–±—Ä–∞–Ω–∞: –ë–æ—Ä–æ–¥–∏–Ω–∞
```

**–í–µ—á–µ—Ä:**
```
–ö–∞–Ω–¥–∏–¥–∞—Ç—ã:
1. –ë–æ—Ä–æ–¥–∏–Ω–∞ (+12 –±–∞–ª–ª–æ–≤) - ‚ùå —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —É—Ç—Ä–æ–º
2. –í–∞—Å—é—Ç–∏–Ω–∞ (+10 –±–∞–ª–ª–æ–≤) - –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç —ç—Ç–æ—Ç –º–∞–≥–∞–∑–∏–Ω
3. –í–µ—Ä–µ—Ç–µ–Ω–Ω–∏–∫–æ–≤ (+5 –±–∞–ª–ª–æ–≤) - –±–µ–∑ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π

–ü—Ä–æ–≤–µ—Ä–∫–∞ _canWorkShift():
- –ë–æ—Ä–æ–¥–∏–Ω–∞: ‚ùå –ë–õ–û–ö–ò–†–û–í–ê–ù–ê (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–≥–æ–¥–Ω—è)
- –í–∞—Å—é—Ç–∏–Ω–∞: ‚úÖ –º–æ–∂–µ—Ç
- –í—ã–±—Ä–∞–Ω–∞: –í–∞—Å—é—Ç–∏–Ω–∞
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è 15 –¥–Ω–µ–π

**–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**
- 15 –¥–Ω–µ–π √ó 1 —Å–º–µ–Ω–∞ = **15 —Å–º–µ–Ω –º–∞–∫—Å–∏–º—É–º –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞**
- –ù–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ: **–Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ**

**–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–∏–∑ –ª–æ–≥–æ–≤):**
- –ë–æ—Ä–æ–¥–∏–Ω–∞: ~10-12 —Å–º–µ–Ω
- –í–∞—Å—é—Ç–∏–Ω–∞: ~10-12 —Å–º–µ–Ω
- –í–µ—Ä–µ—Ç–µ–Ω–Ω–∏–∫–æ–≤: ~8-10 —Å–º–µ–Ω
- ...
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏: 2-3 —Å–º–µ–Ω—ã

---

## üéØ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –•–û–†–û–®–û

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–µ–∫—É—â–µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

1. **–£—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è:**
   - –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –ª—é–±–∏–º—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö
   - –†–∞–±–æ—Ç–∞—é—Ç –≤ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–µ –¥–Ω–∏
   - –ü–æ–ª—É—á–∞—é—Ç –∂–µ–ª–∞–µ–º—ã–µ —Å–º–µ–Ω—ã (—É—Ç—Ä–æ/–≤–µ—á–µ—Ä)

2. **–ò–∑–±–µ–≥–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:**
   - –ù–µ—Ç "—É—Ç—Ä–∞ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞"
   - –û–¥–∏–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ = –æ–¥–Ω–∞ —Å–º–µ–Ω–∞ –≤ –¥–µ–Ω—å

3. **–ó–∞–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã:**
   - –¶–∏–∫–ª –ø–æ –≤—Å–µ–º –º–∞–≥–∞–∑–∏–Ω–∞–º –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏–µ

4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞:**
   - –ü–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞
   - –õ–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
   - –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ (O(–¥–Ω–∏ √ó –º–∞–≥–∞–∑–∏–Ω—ã √ó —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏))

---

## üí° –ß–¢–û –ù–£–ñ–ù–û –£–õ–£–ß–®–ò–¢–¨

### –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ #1: –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª –∑–∞ –Ω–∏–∑–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É

```dart
// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5: –ú–µ–Ω—å—à–µ —Å–º–µ–Ω = –≤—ã—à–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
final assignedShiftsCount = schedule.entries.where((e) =>
  e.employeeId == employee.id
).length;

// –ß–µ–º –º–µ–Ω—å—à–µ —Å–º–µ–Ω, —Ç–µ–º –≤—ã—à–µ –±–∞–ª–ª
score += (10 - assignedShiftsCount);  // –û—Ç +10 –¥–æ -N
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–º–µ–Ω –ø–æ–ª—É—á–∞—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.

### –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ #2: –£—á–∏—Ç—ã–≤–∞—Ç—å –¥–Ω–∏ –ø–æ–¥—Ä—è–¥

```dart
// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 6: –ò–∑–±–µ–≥–∞—Ç—å –¥–ª–∏–Ω–Ω—ã—Ö —Å–µ—Ä–∏–π
final workedYesterday = schedule.entries.any((e) =>
  e.employeeId == employee.id &&
  e.date == day.subtract(Duration(days: 1))
);

if (workedYesterday) {
  score -= 2;  // –ú–∏–Ω—É—Å –∑–∞ —Ä–∞–±–æ—Ç—É –ø–æ–¥—Ä—è–¥
}
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–º–µ–Ω –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏.

### –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ #3: –î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º

**–≠—Ç–∞–ø 1: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–º–µ–Ω
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ: 240 —Å–º–µ–Ω / 25 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ = ~9-10 —Å–º–µ–Ω –∫–∞–∂–¥–æ–º—É
- –°–æ–∑–¥–∞—Ç—å "–ø–ª–∞–Ω" –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π

**–≠—Ç–∞–ø 2: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å —É—á–µ—Ç–æ–º –ø–ª–∞–Ω–∞**
- –ù–∞–∑–Ω–∞—á–∞—Ç—å —Å–º–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å, –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ —Å–≤–æ–π –ª–∏–º–∏—Ç
- –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

### –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ #4: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ –ü–ï–†–ï–î –≤—ã–±–æ—Ä–æ–º

```dart
// –ü–ï–†–ï–î —Ü–∏–∫–ª–æ–º –ø–æ –¥–Ω—è–º
employees.sort((a, b) {
  final aShifts = countAssignedShifts(a, schedule);
  final bShifts = countAssignedShifts(b, schedule);
  return aShifts.compareTo(bShifts);  // –û—Ç –º–µ–Ω—å—à–µ–≥–æ –∫ –±–æ–ª—å—à–µ–º—É
});

// –¢–µ–ø–µ—Ä—å —Ü–∏–∫–ª –±—É–¥–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö
```

---

## üé≤ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### –ü–æ–¥—Ö–æ–¥ #1: Round Robin (–ø–æ –æ—á–µ—Ä–µ–¥–∏)

```
–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏: [A, B, C, D, E, ...]
–ò–Ω–¥–µ–∫—Å: 0

–î–õ–Ø –ö–ê–ñ–î–û–ô —Å–º–µ–Ω—ã:
  –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞[–∏–Ω–¥–µ–∫—Å]
  –ï—Å–ª–∏ –º–æ–∂–µ—Ç ‚Üí –Ω–∞–∑–Ω–∞—á–∏—Ç—å, –∏–Ω–¥–µ–∫—Å++
  –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—Ç ‚Üí –∏–Ω–¥–µ–∫—Å++, –ø–æ–≤—Ç–æ—Ä–∏—Ç—å
```

**–ü–ª—é—Å—ã:** –ò–¥–µ–∞–ª—å–Ω–æ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
**–ú–∏–Ω—É—Å—ã:** –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è

### –ü–æ–¥—Ö–æ–¥ #2: Weighted Random (–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å)

```
–î–õ–Ø –ö–ê–ñ–î–û–ô —Å–º–µ–Ω—ã:
  –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –±–∞–ª–ª—ã –¥–ª—è –≤—Å–µ—Ö
  –í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –±–∞–ª–ª–∞–º
```

**–ü–ª—é—Å—ã:** –£—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è + –¥–æ–±–∞–≤–ª—è–µ—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ
**–ú–∏–Ω—É—Å—ã:** –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ

### –ü–æ–¥—Ö–æ–¥ #3: Constraint Programming (–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)

```
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –ö–∞–∂–¥—ã–π –º–∞–≥–∞–∑–∏–Ω √ó –¥–µ–Ω—å √ó —Å–º–µ–Ω–∞ = –∑–∞–ø–æ–ª–Ω–µ–Ω
- –ö–∞–∂–¥—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫: 8-12 —Å–º–µ–Ω
- –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- –ú–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—á–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π

–†–µ—à–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω—É—é –∑–∞–¥–∞—á—É
```

**–ü–ª—é—Å—ã:** –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
**–ú–∏–Ω—É—Å—ã:** –°–ª–æ–∂–Ω–æ—Å—Ç—å, –º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### –ò–∑ –ª–æ–≥–æ–≤ (1-10 –¥–µ–∫–∞–±—Ä—è 2025)

```
üîÑ –ù–∞—á–∞–ª–æ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
   –ü–µ—Ä–∏–æ–¥: 1.12.2025 - 15.12.2025
   –°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: 25
   –ú–∞–≥–∞–∑–∏–Ω–æ–≤: 8
   –†–µ–∂–∏–º: –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—É—Å—Ç—ã–µ

‚úÖ –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ: —Å–æ–∑–¥–∞–Ω–æ 141 —Å–º–µ–Ω
```

**–ê–Ω–∞–ª–∏–∑:**
- **–û–∂–∏–¥–∞–ª–æ—Å—å:** 15 –¥–Ω–µ–π √ó 8 –º–∞–≥–∞–∑–∏–Ω–æ–≤ √ó 2 —Å–º–µ–Ω—ã = 240 —Å–º–µ–Ω
- **–°–æ–∑–¥–∞–Ω–æ:** 141 —Å–º–µ–Ω–∞
- **–£–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–æ:** 240 - 141 = 99 —Å–º–µ–Ω
- **–ò—Ç–æ–≥–æ –≤ –≥—Ä–∞—Ñ–∏–∫–µ:** 141 + 556 (—Å—Ç–∞—Ä—ã–µ) = 697 –∑–∞–ø–∏—Å–µ–π

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–∏–∑ –ª–æ–≥–æ–≤)

**–ß–∞—Å—Ç—ã–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è:**
- –í–µ—Ä–µ—Ç–µ–Ω–Ω–∏–∫–æ–≤ –ë–æ–≥–¥–∞–Ω: ~10 —Å–º–µ–Ω (—É—Ç—Ä–æ –≤ –ï—Å—Å–µ–Ω—Ç—É–∫–∏)
- –í–∞—Å—é—Ç–∏–Ω–∞ –ï–ª–µ–Ω–∞: ~10 —Å–º–µ–Ω (–≤–µ—á–µ—Ä –≤ –ï—Å—Å–µ–Ω—Ç—É–∫–∏)
- –í–æ—Ä–æ–Ω—á–∏—Ö–∏–Ω –í–µ–ª–µ—Å: ~10 —Å–º–µ–Ω (—É—Ç—Ä–æ –≤ –ò–Ω–æ–∑–µ–º—Ü–µ–≤–æ)
- –í–æ–ª—á–∞–Ω–æ–≤ –ú–∏—Ö–∞–∏–ª: ~10 —Å–º–µ–Ω (–≤–µ—á–µ—Ä –≤ –ò–Ω–æ–∑–µ–º—Ü–µ–≤–æ)

**–†–µ–¥–∫–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è:**
- –†–∞–π–¥–∞ –ê—Ä–∏–Ω–∞: 1 —Å–º–µ–Ω–∞ (—É—Ç—Ä–æ –≤ –í–∏–Ω—Å–∞–¥—ã, –¥–µ–Ω—å 1)
- –ü—É—Ç–æ–≤ –ò–ª—å—è: ~5-7 —Å–º–µ–Ω

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ (—Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ)

**–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞ –Ω–∏–∑–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É –≤ `_selectBestEmployee()`:**

```dart
// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5: –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
final assignedShiftsCount = schedule.entries.where((e) =>
  e.employeeId == employee.id
).length;

// –ú–∞–∫—Å–∏–º—É–º +15 –±–∞–ª–ª–æ–≤ –¥–ª—è —Ç–µ—Ö, —É –∫–æ–≥–æ 0 —Å–º–µ–Ω
// 0 –±–∞–ª–ª–æ–≤ –¥–ª—è —Ç–µ—Ö, —É –∫–æ–≥–æ 15+ —Å–º–µ–Ω
score += max(0, 15 - assignedShiftsCount);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –±–µ–∑ —Å–º–µ–Ω –ø–æ–ª—É—á–∞—Ç +15 –±–∞–ª–ª–æ–≤
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å 5 —Å–º–µ–Ω–∞–º–∏ –ø–æ–ª—É—á–∞—Ç +10 –±–∞–ª–ª–æ–≤
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å 10 —Å–º–µ–Ω–∞–º–∏ –ø–æ–ª—É—á–∞—Ç +5 –±–∞–ª–ª–æ–≤
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å 15+ —Å–º–µ–Ω–∞–º–∏ –ø–æ–ª—É—á–∞—Ç 0 –±–∞–ª–ª–æ–≤

**–≠—Ñ—Ñ–µ–∫—Ç:** –ë–æ–ª–µ–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —É—á–µ—Ç–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π.

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –¢–µ–∫—É—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º (–∏—Ç–æ–≥)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** –î–µ–Ω—å ‚Üí –ú–∞–≥–∞–∑–∏–Ω ‚Üí –°–º–µ–Ω–∞ ‚Üí –í—ã–±–æ—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
- ‚úÖ –ò–∑–±–µ–≥–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- ‚úÖ –ó–∞–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞

**–°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚ö†Ô∏è –ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚ö†Ô∏è –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Å–º–µ–Ω
- ‚ö†Ô∏è –ñ–∞–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–ª–æ–∫–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞ –Ω–∏–∑–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É (+15 –±–∞–ª–ª–æ–≤ max).

---

**–î–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 2025-12-29
**–ê–≤—Ç–æ—Ä:** Claude Sonnet 4.5
**–ü—Ä–æ–µ–∫—Ç:** Arabica2026 Coffee Shop Management System

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
