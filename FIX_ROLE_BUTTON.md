# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ö–Ω–æ–ø–∫–∞ "–¢–µ—Å—Ç —Ä–æ–ª–µ–π" –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è

## ‚úÖ –ß—Ç–æ —è –∏—Å–ø—Ä–∞–≤–∏–ª:

1. ‚úÖ –û–±–Ω–æ–≤–∏–ª URL Google Apps Script –≤ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–µ
2. ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ GitHub

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤–∞–º:

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ —Å GitHub

```bash
cd arabica2026
git pull origin main
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –Ω–∞ arabica26.ru

**–í–∞–∂–Ω–æ!** –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `loyalty-proxy/index.js` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ `arabica26.ru`:

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É `arabica26.ru`
2. –ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª `loyalty-proxy/index.js`
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–æ–∫—É 11:
   ```javascript
   const SCRIPT_URL = process.env.SCRIPT_URL || "https://script.google.com/macros/s/AKfycbzaH6AqH8j9E93Tf4SFCie35oeESGfBL6p51cTHl9EvKq0Y5bfzg4UbmsDKB1B82yPS/exec";
   ```
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä:
   ```bash
   pm2 restart loyalty-proxy
   # –∏–ª–∏
   systemctl restart loyalty-proxy
   # –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ node –ø—Ä–æ—Ü–µ—Å—Å
   ```

### –®–∞–≥ 3: –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
cd arabica2026
flutter clean
flutter pub get
flutter run
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ **"–¢–µ—Å—Ç —Ä–æ–ª–µ–π"** (–∏–∫–æ–Ω–∫–∞ –∫–æ–ª–±—ã üî¨)
3. –ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ—è–≤–∏–ª–∞—Å—å:
   - –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
   - –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `flutter run`

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
curl "https://arabica26.ru?action=getUserRole&phone=79001234567"
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON:
```json
{
  "success": true,
  "clientName": "–ò–º—è",
  "employeeName": null,
  "isAdmin": 0
}
```

## ‚ö†Ô∏è –ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –≤—Å—ë –µ—â—ë –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω:**
   ```bash
   git log --oneline -5
   ```
   –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–º–º–∏—Ç: "Add user role system: admin, employee, client with menu filtering"

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞:**
   ```bash
   ls -la lib/role_test_page.dart
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–ø–æ—Ä—Ç –≤ main_menu_page.dart:**
   ```bash
   grep "role_test_page" lib/main_menu_page.dart
   ```
   –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞: `import 'role_test_page.dart';`

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç–æ–¥ _getMenuItems():**
   ```bash
   grep -A 5 "–¢–µ—Å—Ç —Ä–æ–ª–µ–π" lib/main_menu_page.dart
   ```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**
   ```bash
   grep "_getMenuItems()" lib/main_menu_page.dart
   ```
   –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞: `children: _getMenuItems(),`

## üêõ –û—Ç–ª–∞–¥–∫–∞:

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –û—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –°–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–≥—Ä—É–∑–∫–µ —Ä–æ–ª–∏

–í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
- `üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω–æ–º–µ—Ä–æ–º: ...`
- `üîó URL –∑–∞–ø—Ä–æ—Å–∞: ...`
- `‚úÖ –†–æ–ª—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞: ...`





