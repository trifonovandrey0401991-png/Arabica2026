# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

**–î–∞—Ç–∞:** 2025-12-29
**–§–∞–π–ª:** `lib/features/work_schedule/services/auto_fill_schedule_service.dart`

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. ‚úÖ **–ì–ª–∞–≤–Ω–æ–µ - —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è**
2. ‚úÖ **–ù–µ–ª—å–∑—è —Å—Ç–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É —É—Ç—Ä–æ, –µ—Å–ª–∏ –ø–µ—Ä–µ–¥ —Å–º–µ–Ω–æ–π –æ–Ω —Ä–∞–±–æ—Ç–∞–ª –≤–µ—á–µ—Ä–æ–º**
3. ‚úÖ **–ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ –º–∞–≥–∞–∑–∏–Ω - –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ, –Ω–æ –Ω–µ–ª—å–∑—è –Ω–∞—Ä—É—à–∞—Ç—å –≤—Ç–æ—Ä–æ–µ**
4. ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –±–∞–ª–ª–æ–≤**

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ #1: –£—á–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π

### –ê–ª–≥–æ—Ä–∏—Ç–º (—Å—Ç—Ä–æ–∫–∏ 92-121):

```dart
// –®–∞–≥ 1: –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –° –ü–†–ï–î–ü–û–ß–¢–ï–ù–ò–Ø–ú–ò
Employee? selectedEmployee = _selectBestEmployee(
  employees: employeesWithPreferences,  // ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
  ...
);

// –®–∞–≥ 2: –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ë–ï–ó –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
if (selectedEmployee == null) {
  selectedEmployee = _selectBestEmployee(
    employees: employeesWithoutPreferences,  // ‚úÖ –í—Ç–æ—Ä–æ–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
    ...
  );
}

// –®–∞–≥ 3: –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –Ω–∞—à–ª–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –õ–Æ–ë–û–ì–û –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ
if (selectedEmployee == null) {
  selectedEmployee = _selectAnyAvailableEmployee(
    employees: employees,  // ‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
    ...
  );
}
```

### –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ –≤ `_selectBestEmployee()` (—Å—Ç—Ä–æ–∫–∏ 178-225):

```dart
// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ (+10 –±–∞–ª–ª–æ–≤)
if (_isPreferredShop(employee, shop)) {
  score += 10;
}

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ñ–µ–ª–∞–µ–º—ã–π –¥–µ–Ω—å —Ä–∞–±–æ—Ç—ã (+5 –±–∞–ª–ª–æ–≤)
if (_isPreferredDay(employee, day)) {
  score += 5;
}

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ —Å–º–µ–Ω—ã
final grade = _getShiftPreferenceGrade(employee, shiftType);
if (grade == 1) {
  score += 3;   // –í—Å–µ–≥–¥–∞ —Ö–æ—á–µ—Ç
} else if (grade == 2) {
  score += 1;   // –ú–æ–∂–µ—Ç, –Ω–æ –Ω–µ —Ö–æ—á–µ—Ç
} else if (grade == 3) {
  score -= 10;  // –ù–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
}

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (+2 –±–∞–ª–ª–∞)
if (!_hasConflict(employee, day, shiftType, schedule)) {
  score += 2;
}

// –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é –±–∞–ª–ª–æ–≤
scoredEmployees.sort((a, b) => (b['score'] as int).compareTo(a['score'] as int));

// –í—ã–±–æ—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –±–∞–ª–ª–æ–º
for (var item in scoredEmployees) {
  final employee = item['employee'] as Employee;
  if (_canWorkShift(employee, day, shiftType, schedule)) {
    return employee;  // ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å –Ω–∞–∏–≤—ã—Å—à–∏–º –±–∞–ª–ª–æ–º
  }
}
```

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –±–∞–ª–ª–æ–≤

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ #2: –ö–æ–Ω—Ñ–ª–∏–∫—Ç "—É—Ç—Ä–æ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞"

### –§—É–Ω–∫—Ü–∏—è `_hasConflict()` (—Å—Ç—Ä–æ–∫–∏ 306-323):

```dart
/// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã (—É—Ç—Ä–æ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞)
static bool _hasConflict(
  Employee employee,
  DateTime day,
  ShiftType shiftType,
  WorkSchedule schedule,
) {
  // –ü–†–û–í–ï–†–Ø–ï–ú –¢–û–õ–¨–ö–û –î–õ–Ø –£–¢–†–ï–ù–ù–ï–ô –°–ú–ï–ù–´
  if (shiftType != ShiftType.morning) return false;

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Ä–∞–±–æ—Ç–∞–ª –ª–∏ –≤—á–µ—Ä–∞ –≤–µ—á–µ—Ä–æ–º
  final previousDay = day.subtract(const Duration(days: 1));
  return schedule.entries.any((e) =>
    e.employeeId == employee.id &&
    e.date.year == previousDay.year &&
    e.date.month == previousDay.month &&
    e.date.day == previousDay.day &&
    e.shiftType == ShiftType.evening  // ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—á–µ—Ä–Ω–µ–π —Å–º–µ–Ω—ã –≤—á–µ—Ä–∞
  );
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ `_canWorkShift()` (—Å—Ç—Ä–æ–∫–∏ 243-263):

```dart
/// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –º–æ–∂–µ—Ç –ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —ç—Ç—É —Å–º–µ–Ω—É
static bool _canWorkShift(
  Employee employee,
  DateTime day,
  ShiftType shiftType,
  WorkSchedule schedule,
) {
  // –ü–ï–†–í–ê–Ø –ü–†–û–í–ï–†–ö–ê: –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
  if (_hasConflict(employee, day, shiftType, schedule)) {
    return false;  // ‚úÖ –ë–õ–û–ö–ò–†–£–ï–ú —É—Ç—Ä–æ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞
  }

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å
  final hasShift = schedule.entries.any((e) =>
    e.employeeId == employee.id &&
    e.date.year == day.year &&
    e.date.month == day.month &&
    e.date.day == day.day
  );

  // –ù–ï —Ä–∞–∑—Ä–µ—à–∞–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–º–µ–Ω –≤ –æ–¥–∏–Ω –¥–µ–Ω—å
  if (hasShift) {
    return false;
  }

  return true;
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–µ –±–∞–ª–ª–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 202-205):

```dart
// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (+2 –±–∞–ª–ª–∞)
if (!_hasConflict(employee, day, shiftType, schedule)) {
  score += 2;  // ‚úÖ –ë–æ–Ω—É—Å –∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞
}
// –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç - –ù–ï–¢ –±–æ–Ω—É—Å–∞
```

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - –ö–æ–Ω—Ñ–ª–∏–∫—Ç "—É—Ç—Ä–æ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞" –ë–õ–û–ö–ò–†–£–ï–¢ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ #3: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

### –ê–ª–≥–æ—Ä–∏—Ç–º (—Å—Ç—Ä–æ–∫–∏ 92-121):

```dart
// –ü–æ–ø—ã—Ç–∫–∞ #1: –° –ü–†–ï–î–ü–û–ß–¢–ï–ù–ò–Ø–ú–ò
Employee? selectedEmployee = _selectBestEmployee(
  employees: employeesWithPreferences,
  ...
);

// –ü–æ–ø—ã—Ç–∫–∞ #2: –ë–ï–ó –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤ #1)
if (selectedEmployee == null) {
  selectedEmployee = _selectBestEmployee(
    employees: employeesWithoutPreferences,  // ‚úÖ –ò–ì–ù–û–†–ò–†–£–ï–ú –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
    ...
  );
}

// –ü–æ–ø—ã—Ç–∫–∞ #3: –õ–Æ–ë–û–ô –¥–æ—Å—Ç—É–ø–Ω—ã–π (–µ—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤ #1 –∏ #2)
if (selectedEmployee == null) {
  selectedEmployee = _selectAnyAvailableEmployee(
    employees: employees,  // ‚úÖ –í–°–ï —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, –∏–≥–Ω–æ—Ä–∏—Ä—É—è –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
    ...
  );
}
```

### –§—É–Ω–∫—Ü–∏—è `_selectAnyAvailableEmployee()` (—Å—Ç—Ä–æ–∫–∏ 227-241):

```dart
/// –í—ã–±—Ä–∞—Ç—å –ª—é–±–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
static Employee? _selectAnyAvailableEmployee({
  required Shop shop,
  required DateTime day,
  required ShiftType shiftType,
  required List<Employee> employees,
  required WorkSchedule schedule,
}) {
  for (var employee in employees) {
    if (_canWorkShift(employee, day, shiftType, schedule)) {
      return employee;  // ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ü–ï–†–í–û–ì–û –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ
    }
  }
  return null;
}
```

### –í–ê–ñ–ù–û: `_canWorkShift()` –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç

```dart
static bool _canWorkShift(...) {
  // –ë–õ–û–ö–ò–†–£–ï–ú —É—Ç—Ä–æ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞ - –í–°–ï–ì–î–ê
  if (_hasConflict(employee, day, shiftType, schedule)) {
    return false;  // ‚úÖ –ù–ï–õ–¨–ó–Ø –ù–ê–†–£–®–ê–¢–¨ –≤—Ç–æ—Ä–æ–µ –ø—Ä–∞–≤–∏–ª–æ
  }

  // –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏...
}
```

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢**
- –ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–µ–∑ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- –ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –±–µ–∑ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª—é–±–æ–≥–æ
- –ù–û: –ö–æ–Ω—Ñ–ª–∏–∫—Ç "—É—Ç—Ä–æ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞" –í–°–ï–ì–î–ê –±–ª–æ–∫–∏—Ä—É–µ—Ç

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ #4: –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤

### –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 178-208):

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –£—Å–ª–æ–≤–∏–µ | –ë–∞–ª–ª—ã |
|----------|---------|-------|
| **–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞** | `employee.preferredShops.contains(shop.id)` | **+10** |
| **–ñ–µ–ª–∞–µ–º—ã–π –¥–µ–Ω—å** | `employee.preferredWorkDays.contains("monday")` | **+5** |
| **–õ—é–±–∏—Ç —Å–º–µ–Ω—É** | `shiftPreferences[shiftType] == 1` | **+3** |
| **–ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å** | `shiftPreferences[shiftType] == 2` | **+1** |
| **–ù–ï –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å** | `shiftPreferences[shiftType] == 3` | **-10** |
| **–ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞** | `!_hasConflict(...)` | **+2** |
| **–ú–ê–ö–°–ò–ú–£–ú** | –í—Å–µ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã | **20** |

### –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞:

```dart
// 1. –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –±–∞–ª–ª—ã –¥–ª—è –≤—Å–µ—Ö
final scoredEmployees = employees.map((employee) {
  int score = 0;
  // ... —Ä–∞—Å—á–µ—Ç –±–∞–ª–ª–æ–≤
  return {'employee': employee, 'score': score};
}).toList();

// 2. –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã
scoredEmployees.removeWhere((item) => item['score'] as int < 0);

// 3. –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —É–±—ã–≤–∞–Ω–∏—é
scoredEmployees.sort((a, b) =>
  (b['score'] as int).compareTo(a['score'] as int)
);

// 4. –í—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ, –∫—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç _canWorkShift()
for (var item in scoredEmployees) {
  final employee = item['employee'] as Employee;
  if (_canWorkShift(employee, day, shiftType, schedule)) {
    return employee;  // ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –±–∞–ª–ª–æ–º
  }
}
```

**–í—ã–≤–æ–¥:** ‚úÖ **–°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢** - –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –ü–†–û–í–ï–†–ö–ê

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ |
|------------|--------|---------------|
| **1. –£—á–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π** | ‚úÖ **–î–ê** | –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 178-225) |
| **2. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —É—Ç—Ä–æ‚Üí–≤–µ—á–µ—Ä** | ‚úÖ **–î–ê** | `_hasConflict()` (—Å—Ç—Ä–æ–∫–∏ 306-323) |
| **3. –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ** | ‚úÖ **–î–ê** | 3-—É—Ä–æ–≤–Ω–µ–≤—ã–π –≤—ã–±–æ—Ä (—Å—Ç—Ä–æ–∫–∏ 92-121) |
| **4. –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤** | ‚úÖ **–î–ê** | Scoring algorithm (—Å—Ç—Ä–æ–∫–∏ 178-208) |

---

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º (–ø–æ—à–∞–≥–æ–≤–æ)

### –ü—Ä–∏–º–µ—Ä: –ù–∞–∑–Ω–∞—á–∏—Ç—å —É—Ç—Ä–µ–Ω–Ω—é—é —Å–º–µ–Ω—É 2 –¥–µ–∫–∞–±—Ä—è –≤ –º–∞–≥–∞–∑–∏–Ω "–ï—Å—Å–µ–Ω—Ç—É–∫–∏"

**–®–∞–≥ 1:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –° –ü–†–ï–î–ü–û–ß–¢–ï–ù–ò–Ø–ú–ò
- –ë–æ—Ä–æ–¥–∏–Ω–∞: +10 (–ª—é–±–∏—Ç –ï—Å—Å–µ–Ω—Ç—É–∫–∏) +5 (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫) +3 (–ª—é–±–∏—Ç —É—Ç—Ä–æ) +2 (–Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞) = **20 –±–∞–ª–ª–æ–≤**
- –í–∞—Å—é—Ç–∏–Ω–∞: +10 (–ª—é–±–∏—Ç –ï—Å—Å–µ–Ω—Ç—É–∫–∏) +1 (–º–æ–∂–µ—Ç —É—Ç—Ä–æ–º) +2 (–Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞) = **13 –±–∞–ª–ª–æ–≤**
- –í–µ—Ä–µ—Ç–µ–Ω–Ω–∏–∫–æ–≤: +5 (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫) +3 (–ª—é–±–∏—Ç —É—Ç—Ä–æ) +2 (–Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞) = **10 –±–∞–ª–ª–æ–≤**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ë–æ—Ä–æ–¥–∏–Ω–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ –≤—á–µ—Ä–∞ –≤–µ—á–µ—Ä–æ–º?
- –ï—Å–ª–∏ **–î–ê** ‚Üí `_hasConflict()` = true ‚Üí `_canWorkShift()` = false ‚Üí **–ë–õ–û–ö–ò–†–û–í–ê–ù–ê**
- –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –í–∞—Å—é—Ç–∏–Ω–æ–π

**–í–∞—Å—é—Ç–∏–Ω–∞:** –†–∞–±–æ—Ç–∞–ª–∞ –≤—á–µ—Ä–∞?
- –ï—Å–ª–∏ **–ù–ï–¢** ‚Üí `_canWorkShift()` = true ‚Üí **–ù–ê–ó–ù–ê–ß–ï–ù–ê** ‚úÖ

**–®–∞–≥ 2:** –ï—Å–ª–∏ –Ω–∏–∫—Ç–æ –∏–∑ –≥—Ä—É–ø–ø—ã #1 –Ω–µ –ø–æ–¥–æ—à–µ–ª ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º –ë–ï–ó –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ scoring, –Ω–æ –±–∞–ª–ª—ã –±—É–¥—É—Ç –Ω–∏–∂–µ

**–®–∞–≥ 3:** –ï—Å–ª–∏ –Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–¥–æ—à–µ–ª ‚Üí –≤—ã–±–∏—Ä–∞–µ–º –õ–Æ–ë–û–ì–û
- `_selectAnyAvailableEmployee()` ‚Üí –ø–µ—Ä–≤—ã–π, –∫—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç `_canWorkShift()`
- –ù–û: `_hasConflict()` –í–°–ï –†–ê–í–ù–û –±–ª–æ–∫–∏—Ä—É–µ—Ç —É—Ç—Ä–æ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫ —Å –≤—ã—Å–æ–∫–∏–º–∏ –±–∞–ª–ª–∞–º–∏ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å 15 —Å–º–µ–Ω
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫ —Å –Ω–∏–∑–∫–∏–º–∏ –±–∞–ª–ª–∞–º–∏ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å 2 —Å–º–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª –∑–∞ –Ω–∏–∑–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É

```dart
// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5: –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
final assignedShiftsCount = schedule.entries
  .where((e) => e.employeeId == employee.id)
  .length;

// –ß–µ–º –º–µ–Ω—å—à–µ —Å–º–µ–Ω, —Ç–µ–º –≤—ã—à–µ –±–∞–ª–ª (–º–∞–∫—Å +15)
score += max(0, 15 - assignedShiftsCount);
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- 0 —Å–º–µ–Ω ‚Üí +15 –±–∞–ª–ª–æ–≤ (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- 5 —Å–º–µ–Ω ‚Üí +10 –±–∞–ª–ª–æ–≤
- 10 —Å–º–µ–Ω ‚Üí +5 –±–∞–ª–ª–æ–≤
- 15+ —Å–º–µ–Ω ‚Üí 0 –±–∞–ª–ª–æ–≤ (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ–ª–µ–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —É—á–µ—Ç–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### –¢–µ–∫—É—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –ü–û–õ–ù–û–°–¢–¨–Æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

1. ‚úÖ **–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º** —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –±–∞–ª–ª–æ–≤
2. ‚úÖ **–ö–æ–Ω—Ñ–ª–∏–∫—Ç "—É—Ç—Ä–æ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∞" –°–¢–†–û–ì–û –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è** –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö
3. ‚úÖ **–ü—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è**, –Ω–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ù–ï –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è
4. ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞** —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –æ—Ç +10 –¥–æ -10

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π!

**–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª –∑–∞ –Ω–∏–∑–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É –¥–ª—è –±–æ–ª–µ–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.

---

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-12-29
**–ü—Ä–æ–≤–µ—Ä—è—é—â–∏–π:** Claude Sonnet 4.5
**–ü—Ä–æ–µ–∫—Ç:** Arabica2026 Coffee Shop Management System

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
