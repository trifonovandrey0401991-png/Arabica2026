# Решение проблемы с записью в Google Sheets

## Проблема
Код возвращает 200, но данные не появляются в таблице.

## Возможные причины и решения:

### 1. Проверьте права доступа скрипта

**Проблема:** Скрипт может не иметь прав на запись в таблицу.

**Решение:**
1. Откройте Google Sheets: https://docs.google.com/spreadsheets/d/1n7E3sph8x_FanomlEuEeG5a0OMWSz9UXNlIjXAr19MU
2. Перейдите в **Расширения** → **Apps Script**
3. Нажмите на **три точки** (меню) → **Разрешения**
4. Убедитесь, что скрипт имеет доступ к таблице
5. Если нужно, предоставьте разрешения заново

### 2. Проверьте, существует ли лист 11

**Проблема:** Лист 11 может не существовать или иметь другое имя.

**Решение:**
1. Откройте таблицу
2. Проверьте, есть ли лист с именем "Лист11"
3. Если листа нет, создайте его вручную:
   - Нажмите на **"+"** внизу (добавить лист)
   - Переименуйте его в "Лист11"
   - Добавьте заголовки: "Имя" в столбце A, "Номер телефона" в столбце B

### 3. Проверьте логи выполнения скрипта

**Решение:**
1. Откройте **Расширения** → **Apps Script**
2. Выберите функцию `doPost` или `doGet`
3. Нажмите **Выполнить** (▶️)
4. Проверьте логи выполнения внизу
5. Если есть ошибки, они будут видны в логах

### 4. Проверьте настройки развертывания

**Решение:**
1. В Apps Script нажмите **Развернуть** → **Управление развертываниями**
2. Убедитесь, что развертывание активно
3. Проверьте, что "У кого есть доступ" установлено в **"Все"**
4. Если нужно, создайте новое развертывание

### 5. Тестирование скрипта вручную

Вы можете протестировать скрипт напрямую:

1. В Apps Script выберите функцию `doPost`
2. Нажмите **Выполнить**
3. В появившемся окне введите тестовые данные:
   ```json
   {
     "name": "Тест",
     "phone": "+79001234567"
   }
   ```
4. Проверьте, появились ли данные в таблице

### 6. Альтернативный способ: использовать GET запрос

Если POST не работает, попробуйте GET:

1. Откройте в браузере:
   ```
   https://script.google.com/macros/s/AKfycby2OrfeRnPzi6maPHM4ijqiG7B_s2NqqXrDTJegiUzzxYXLvMEFqDBGWJ2Sj9dNdIMj/exec?name=Тест&phone=%2B79001234567
   ```
2. Проверьте, появились ли данные в таблице

### 7. Проверьте ID таблицы

Убедитесь, что ID таблицы правильный в скрипте:
- Текущий ID: `1n7E3sph8x_FanomlEuEeG5a0OMWSz9UXNlIjXAr19MU`
- Проверьте в URL таблицы: `https://docs.google.com/spreadsheets/d/[ID]`

## После исправления

После того как вы исправите проблему, обновите скрипт в Apps Script:
1. Скопируйте обновленный код из `google_apps_script.js`
2. Вставьте в Apps Script
3. Сохраните (Ctrl+S)
4. Создайте новое развертывание или обновите существующее

## Проверка работы

После исправления попробуйте зарегистрироваться снова в приложении. Данные должны появиться в листе 11.

